---
import '@/styles/global.css';
import BaseLayout from '@/layouts/BaseLayout.astro';
import Hero from '@/sections/Hero.astro';
import Services from '@/sections/Services.astro';
import Process from '@/sections/Process.astro';
import Contact from '@/sections/Contact.astro';
---

<BaseLayout>
  <!-- Noise -->
  <div
    class="pointer-events-none fixed top-0 left-0 z-10 h-full w-full opacity-[0.04]"
    style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%270 0 200 200%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cfilter id=%27noiseFilter%27%3E%3CfeTurbulence type=%27fractalNoise%27 baseFrequency=%270.65%27 numOctaves=%273%27 stitchTiles=%27stitch%27/%3E%3C/filter%3E%3Crect width=%27100%25%27 height=%27100%25%27 filter=%27url(%23noiseFilter)%27/%3E%3C/svg%3E');"
  >
  </div>

  <main class="content">
    <Hero />
    <Services />
    <Process />
    <Contact />
  </main>
</BaseLayout>

<script>
  // Intersection observer for scroll reveal
  const observerOptions: IntersectionObserverInit = {
    threshold: 0.1,
  };

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('active');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll('.scroll-reveal').forEach(el => {
    observer.observe(el);
  });
</script>
